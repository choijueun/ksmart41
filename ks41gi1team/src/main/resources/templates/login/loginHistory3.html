<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="@{layout/default}">
	<th:block layout:fragment="customTitle">
		<title>[[${SectionLocation}]]</title>
	</th:block>
	<th:block layout:fragment="customCss"></th:block>
	
	<th:block layout:fragment="SectionTitle">[[${SectionTitle}]]</th:block>
	<th:block layout:fragment="SectionLocation">[[${SectionLocation}]]</th:block>
	
	<th:block layout:fragment="customJs">
		<script type="text/javascript">
			$(function(){
				$(document).on('click', '.modifyBtn', function(){
					var memberId = $(this).attr('data-memberId');
					alert(memberId);
				});

				var aLengthMenuArray = [];
				aLengthMenuArray.push([5,10,15,20,25,-1]);
				aLengthMenuArray.push([5,10,15,20,25,'ALL']);
			
				$('#dataTableAjax').DataTable( {
					destroy: true,
					pageLength: 5,
					aLengthMenu: aLengthMenuArray,
			        ajax: {
			        		url: '/k1Login/loginList',
			        		type: 'POST',
			        		dataSrc: function(data){
			        					console.log(JSON.stringify(data));
			        					return data;
			        				 }
			        },
			        columns: [
			            { 'data': 'loginCode' },
			            { 'data': 'mainBusinessCode' },
			            { 'data': 'loginId' },
			            { 'data': 'loginDate' },
			            { 'data': 'logoutDate' },
			            { 'data': '수정' },
			            { 'data': '삭제' }
			        ],
			        columnDefs: [
			        	{
			        		'targets' : [5],
			        		'orderable' : false,
			        		'searchable' : false,
			        		'render' : function( data, type, row){	//ajax data 3번째 매개변수 row
			        					var htmlbtn1 = '<button class="modifyBtn" data-loginCode="'+ row.loginCode +'">수정</button>';
			        					return htmlbtn1;
			        				 }
			        	},
			        	{
			        		'targets' : [6],
			        		'orderable' : false,
			        		'searchable' : false,
			        		'render' : function( data, type, row){	//ajax data 3번째 매개변수 row
			        					var htmlbtn1 = '<button class="removeBtn" data-loginCode="'+ row.loginCode +'">삭제</button>';
			        					return htmlbtn1;
			        				 }
			        	}
			        ]
			    });
			});
		</script>
	</th:block>
	<th:block layout:fragment="customContents">
		<table id="dataTableAjax" class="dataTable" border="1" style="text-align: center;">
			<thead>
				<tr>
					<th>로그인코드</th>
					<th>사업장코드</th>
					<th>회원아이디</th>
					<th>로그인날짜</th>
					<th>로그아웃날짜</th>
					<th>수정</th>
					<th>삭제</th>
				</tr>
			</thead>
		</table>
	</th:block>
</html>