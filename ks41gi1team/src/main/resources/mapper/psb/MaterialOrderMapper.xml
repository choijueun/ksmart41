<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="k1.smart.team.mapper.psb.MaterialOrderMapper">
	<resultMap type="MaterialOrder" id="MaterialOrderResultMap">
		<result column="materialOrderCode" 		property="materialOrderCode"/>
		<result column="mainBusinessCode" 	property="mainBusinessCode"/>
		<result column="contractCode" 		property="contractCode"/>
		<result column="clientCode" 	property="clientCode"/>
		<result column="totalCount" 	property="totalCount"/>
		<result column="totalPrice" 		property="totalPrice"/>
		<result column="orderDate" 			property="orderDate"/>
		<result column="predictDate" 			property="predictDate"/>
		<result column="status" 			property="status"/>
		<result column="briefs" 				property="briefs"/>
		<result column="managerId" 		property="managerId"/>
		<result column="regDate" 		property="regDate"/>
		<result column="updateDate" 	property="updateDate"/>
	</resultMap>  
	
<select id="getMaterialOrderListBySearchKey" parameterType="String" resultMap="MaterialOrderResultMap">
		SELECT
			mo.materialOrderCode as materialOrderCode,
			mo.mainBusinessCode as mainBusinessCode,
			mo.contractCode as contractCode,
			mo.clientCode as clientCode,
			mo.totalCount as totalCount,
			mo.totalPrice as totalPrice,
			mo.orderDate as orderDate,
			mo.predictDate as predictDate,
			mo.status as status,
			mo.briefs as briefs,
			mo.managerId as managerId,
			mo.regDate as regDate,
			mo.updateDate as updateDate
		FROM 
			k1_tb_material_order AS mo;
		
	</select>	
		
<select id="getAllMaterialOrderList" parameterType="String" resultType="MaterialOrder">
	SELECT 
		mo.materialOrderCode as materialOrderCode,
		mo.mainBusinessCode as mainBusinessCode,
		mo.contractCode as contractCode,
		mo.clientCode as clientCode,
		mo.totalCount as totalCount,
		mo.totalPrice as totalPrice,
		mo.orderDate as orderDate,
		mo.predictDate as predictDate,
		mo.status as status,
		mo.briefs as briefs,
		mo.managerId as managerId,
		mo.regDate as regDate,
		mo.updateDate as updateDate,
		c.businessName as businessName
	FROM	
		k1_tb_material_order AS mo
				INNER join
		k1_tb_client AS c
		on
		mo.mainBusinessCode = c.mainBusinessCode
</select>	
	
</mapper>	