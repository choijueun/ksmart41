<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="k1.smart.team.mapper.csh.ClientMapper">
	<resultMap type="Client" id="clientResultMap">
		<result column="clientCode" 			property="clientCode"/>
		<result column="mainBusinessCode" 		property="mainBusinessCode"/>
		<result column="businessCategory" 		property="businessCategory"/>
		<result column="userId" 				property="userId"/>
		<result column="businessName"			property="businessName"/>
		<result column="businessRepresentative" property="businessRepresentative"/>
		<result column="businessType1" 			property="businessType1"/>
		<result column="businessType2" 			property="businessType2"/>
		<result column="businessNum" 			property="businessNum"/>
		<result column="businessCount" 			property="businessCount"/>
		<result column="businessMobile"			property="businessMobile"/>
		<result column="businessPlace" 			property="businessPlace"/>
		<result column="businessEmail" 			property="businessEmail"/>
		<result column="regDate" 				property="regDate"/>
		<result column="updateDate" 			property="updateDate"/>
	
	</resultMap>

	<select id="getAllClientList" parameterType="String" resultType="Client">
		SELECT
			 cli.clientCode
			,cli.mainBusinessCode
			,cli.businessCategory
			,cli.userId
			,cli.businessName
			,cli.businessRepresentative
			,cli.businessType1
			,cli.businessType2
			,cli.businessNum
			,cli.businessCount
			,cli.businessMobile
			,cli.businessPlace
			,cli.businessEmail
			,cli.regDate
			,cli.updateDate
		FROM 
			k1_tb_client AS cli
		WHERE
			mainBusinessCode = #{mainBusinessCode};
	</select>
	
	<select id="getClientListBySearchKey" parameterType="String" resultMap="clientResultMap">
		SELECT
			 cli.clientCode
			,cli.mainBusinessCode
			,cli.businessCategory
			,cli.userId
			,cli.businessName
			,cli.businessRepresentative
			,cli.businessType1
			,cli.businessType2
			,cli.businessNum
			,cli.businessCount
			,cli.businessMobile
			,cli.businessPlace
			,cli.businessEmail
			,cli.regDate
			,cli.updateDate
		FROM 
			k1_tb_client AS cli
		<trim prefix="WHERE" prefixOverrides="AND|OR">
			<if test="searchKey != null and searchKey != ''.toString()">
				${searchKey} LIKE CONCAT('%',#{searchValue},'%');
			</if>
		</trim>
	</select>
</mapper>