<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="k1.smart.team.mapper.csh.MainBusinessMapper">
	<select id="getAllMainBusinessList" parameterType="String" resultType="MainBusiness">
		SELECT 
			 b.mainBusinessCode
			,b.businessCategory
			,b.businessLevel
			,b.businessName
			,b.businessRepresentative
			,b.businessType1
			,b.businessType2
			,b.businessNum
			,b.businessCount
			,b.businessMobile
			,b.businessPlace
			,b.businessEmail
			,b.openDate
			,b.regDate
			,b.updateDate
		FROM 
			k1_tb_main_business AS b;
	</select>
	
	<select id="getBusinessByCode" resultType="int" parameterType="String">
		SELECT
			COUNT(1)
		FROM
			k1_tb_main_business AS b
		WHERE
			b.mainBusinessCode = #{mainBusinessCode};
	</select>
	
	<select id="getBusinessByNum" resultType="int" parameterType="String">
		SELECT
			COUNT(1)
		FROM
			k1_tb_main_business AS b
		WHERE
			b.businessNum = #{businessNum};
	</select>
	
	<select id="getMainBusinessDetail" parameterType="String" resultType="MainBusiness">
		SELECT 
			 b.mainBusinessCode
			,b.businessCategory
			,b.businessLevel
			,b.businessName
			,b.businessRepresentative
			,b.businessType1
			,b.businessType2
			,b.businessNum
			,b.businessCount
			,b.businessMobile
			,b.businessPlace
			,b.businessEmail
			,b.openDate
			,b.regDate
			,b.updateDate
		FROM 
			k1_tb_main_business AS b
		WHERE
			b.mainBusinessCode = #{mainBusinessCode};
	</select>
	
	<update id="modifyMainBusiness" parameterType="MainBusiness">
		UPDATE 
			k1_tb_main_business
		SET
			mainBusinessCode = #{mainBusinessCode},
			businessCategory = #{businessCategory},
			businessLevel = #{businessLevel},
			businessName = #{businessName},
			businessRepresentative = #{businessRepresentative},
			businessType1 = #{businessType1},
			businessType2 = #{businessType2},
			businessNum = #{businessNum},
			businessCount = #{businessCount},
			businessMobile = #{businessMobile},
			businessPlace = #{businessPlace},
			businessEmail = #{businessEmail},
			openDate = #{openDate},
			regDate = #{regDate}
		WHERE 
			mainBusinessCode = #{mainBusinessCode};
	</update>
	
</mapper>