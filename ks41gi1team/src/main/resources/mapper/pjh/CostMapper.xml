<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="k1.smart.team.mapper.pjh.CostMapper">
	<select id="getAllCostList" parameterType="String" resultType="Cost">
		SELECT
			etcPurchaseCode
			,mainBusinessCode
			,lsAccountCode
			,amount
			,dealDate
			,reportPoint
			,briefs
			,regDate
			,updateDate
		FROM
 			k1_tb_etc_purchase
		WHERE
			mainBusinessCode = #{mainBusinessCode};
	</select>
	<select id="getCostInfoByCode" parameterType="String" resultType="Cost">
		SELECT
			etcPurchaseCode
			,mainBusinessCode
			,lsAccountCode
			,amount
			,dealDate
			,reportPoint
			,briefs
			,regDate
			,updateDate
		FROM
 			k1_tb_etc_purchase
		WHERE
			etcPurchaseCode = #{etcPurchaseCode};
	</select>
	<insert id="addCost" parameterType="Cost">
	INSERT INTO k1_tb_etc_purchase
			(etcPurchaseCode, mainBusinessCode, lsAccountCode, amount, dealDate, reportPoint, briefs, regDate, updateDate)
	VALUES (
		#{etcPurchaseCode}
		,'fac_ksmartSeoul_Seoul_001'
		,#{lsAccountCode}
		,#{amount}
		,#{dealDate}
		,#{reportPoint}
		,#{briefs}
		,NOW()
		,NOW());
	</insert>
	<select id="getAddCostCode" resultType="String">
		SELECT 
			CONCAT(SUBSTRING(c.etcPurchaseCode,1,17),MAX(SUBSTRING(c.etcPurchaseCode,18))+1)
		FROM 
			k1_tb_etc_purchase AS c		
	</select>
	
	
	<update id="costModify"  parameterType="Cost">
		
	</update>
</mapper>